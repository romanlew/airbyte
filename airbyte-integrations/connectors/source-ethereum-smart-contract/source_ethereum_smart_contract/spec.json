{
  "documentationUrl": "https://docsurl.com",
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "EVM Smartcontract Spec",
    "type": "object",
    "required": ["namespace", "blockchain", "smart_contract_address", "smart_contract_abi"],
    "additionalProperties": false,
    "properties": {
      "namespace": {
        "type": "string",
        "title": "Namespace",
        "description": "The Name of the namespace/schema to store events into (should include letters, numbers dash and underscores only)."
      },
      "blockchain": {
        "type": "object",
        "title": "Choose Blockchain",
        "description": "Choose the Blockchain you want to connect to.",
        "default": "Ethereum",
        "oneOf": [
          {
            "title": "Ethereum",
            "required": ["blockchain", "connection"],
            "properties": {
              "blockchain": {
                "type": "string",
                "title": "Blockchain",
                "enum": ["Ethereum"],
                "default": "Ethereum",
                "const": "Ethereum"
              },
              "connection": {
                "type": "object",
                "title": "Choose connection type",
                "default": "HTTP",
                "oneOf": [
                  {
                    "title": "HTTP",
                    "required": ["connection_type", "host"],
                    "properties": {
                      "connection_type": {
                        "type": "string",
                        "title": "Connection type",
                        "enum": ["http"],
                        "default": "http",
                        "const": "http"
                      },
                      "host": {
                        "type": "string",
                        "title": "Enter http RPC endpoint",
                        "description": "Connect to the following Ethereum RPC host through http."
                      }
                    }
                  },
                  {
                    "title": "Websocket",
                    "required": ["connection_type", "host"],
                    "properties": {
                      "connection_type": {
                        "type": "string",
                        "title": "Connection type",
                        "enum": ["ws"],
                        "default": "ws",
                        "const": "ws"
                      },
                      "host": {
                        "type": "string",
                        "title": "Enter websocket RPC endpoint",
                        "description": "Connect to the following Ethereum RPC host through websocket."
                      }
                    }
                  }
                ]
              }
            }
          },
          {
            "title": "Avalanche",
            "required": ["blockchain", "connection"],
            "properties": {
              "blockchain": {
                "type": "string",
                "title": "Blockchain",
                "enum": ["Avalanche"],
                "default": "Avalanche",
                "const": "Avalanche"
              },
              "connection": {
                "type": "object",
                "title": "Choose connection type",
                "default": "HTTP",
                "oneOf": [
                  {
                    "title": "HTTP",
                    "required": ["connection_type", "host"],
                    "properties": {
                      "connection_type": {
                        "type": "string",
                        "title": "Connection type",
                        "enum": ["http"],
                        "default": "http",
                        "const": "http"
                      },
                      "host": {
                        "type": "string",
                        "title": "Enter http RPC endpoint",
                        "description": "Connect to the following Avalanche RPC host through http."
                      }
                    }
                  },
                  {
                    "title": "Websocket",
                    "required": ["connection_type", "host"],
                    "properties": {
                      "connection_type": {
                        "type": "string",
                        "title": "Connection type",
                        "enum": ["ws"],
                        "default": "ws",
                        "const": "ws"
                      },
                      "host": {
                        "type": "string",
                        "title": "Enter websocket RPC endpoint",
                        "description": "Connect to the following Avalanche RPC host through websocket."
                      }
                    }
                  }
                ]
              }
            }
          }
        ]
      },
      "smart_contract_address": {
        "type": "string",
        "title": "Smart Contract Address",
        "description": "Please enter the smart contract address in hex-checksum format.",
        "examples": ["0x1d42064Fc4Beb5F8aAF85F4617AE8b3b5B8Bd801"]
      },
      "smart_contract_abi": {
        "type": "string",
        "title": "Smart Contract ABI",
        "description": "Please copy paste ABI file in here.",
        "examples": ["[  { \"constant\": false, \"inputs\": [ { \"name\": \"_spender\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" } ], \"name\": \"approve\", \"outputs\": [ { \"name\": \"\", \"type\": \"bool\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"totalSupply\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_from\", \"type\": \"address\" }, { \"name\": \"_to\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" } ], \"name\": \"transferFrom\", \"outputs\": [ { \"name\": \"\", \"type\": \"bool\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"decimals\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint8\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_owner\", \"type\": \"address\" } ], \"name\": \"balanceOf\", \"outputs\": [ { \"name\": \"balance\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"symbol\", \"outputs\": [ { \"name\": \"\", \"type\": \"string\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_to\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" } ], \"name\": \"transfer\", \"outputs\": [ { \"name\": \"\", \"type\": \"bool\" } ], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_owner\", \"type\": \"address\" }, { \"name\": \"_spender\", \"type\": \"address\" } ], \"name\": \"allowance\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"fallback\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": true, \"name\": \"owner\", \"type\": \"address\" }, { \"indexed\": true, \"name\": \"spender\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"value\", \"type\": \"uint256\" } ], \"name\": \"Approval\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": true, \"name\": \"from\", \"type\": \"address\" }, { \"indexed\": true, \"name\": \"to\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"value\", \"type\": \"uint256\" } ], \"name\": \"Transfer\", \"type\": \"event\" } ]"]
      },
      "start_from_block": {
        "type": "integer",
        "title": "Start from Block",
        "description": "Enter block height to start retrieving data from.",
        "examples": ["12369621"]
      }
    }
  }
}
